/*!
 * @pixi/filter-simple-lightmap - v2.6.0
 * Compiled Sun, 13 Jan 2019 12:59:55 UTC
 *
 * @pixi/filter-simple-lightmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("pixi.js")):"function"==typeof define&&define.amd?define(["exports","pixi.js"],e):e((r=r||self).__filters={},r.PIXI)}(this,function(r,e){"use strict";var t="attribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n    vTextureCoord = aTextureCoord;\r\n}",o="varying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\nuniform sampler2D uLightmap;\r\nuniform vec4 filterArea;\r\nuniform vec2 dimensions;\r\nuniform vec4 ambientColor;\r\nvoid main() {\r\n    vec4 diffuseColor = texture2D(uSampler, vTextureCoord);\r\n    vec2 lightCoord = (vTextureCoord * filterArea.xy) / dimensions;\r\n    vec4 light = texture2D(uLightmap, lightCoord);\r\n    vec3 ambient = ambientColor.rgb * ambientColor.a;\r\n    vec3 intensity = ambient + light.rgb;\r\n    vec3 finalColor = diffuseColor.rgb * intensity;\r\n    gl_FragColor = vec4(finalColor, diffuseColor.a);\r\n}\r\n",i=function(r){function i(e,i,n){void 0===i&&(i=0),void 0===n&&(n=1),r.call(this,t,o),this.uniforms.dimensions=new Float32Array(2),this.uniforms.ambientColor=new Float32Array([0,0,0,n]),this.texture=e,this.color=i}r&&(i.__proto__=r),i.prototype=Object.create(r&&r.prototype),i.prototype.constructor=i;var n={texture:{configurable:!0},color:{configurable:!0},alpha:{configurable:!0}};return i.prototype.apply=function(r,e,t,o){this.uniforms.dimensions[0]=e.sourceFrame.width,this.uniforms.dimensions[1]=e.sourceFrame.height,r.applyFilter(this,e,t,o)},n.texture.get=function(){return this.uniforms.uLightmap},n.texture.set=function(r){this.uniforms.uLightmap=r},n.color.set=function(r){var t=this.uniforms.ambientColor;"number"==typeof r?(e.utils.hex2rgb(r,t),this._color=r):(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],this._color=e.utils.rgb2hex(t))},n.color.get=function(){return this._color},n.alpha.get=function(){return this.uniforms.ambientColor[3]},n.alpha.set=function(r){this.uniforms.ambientColor[3]=r},Object.defineProperties(i.prototype,n),i}(e.Filter);r.SimpleLightmapFilter=i,Object.defineProperty(r,"__esModule",{value:!0})}),Object.assign(PIXI.filters,this?this.__filters:__filters);
//# sourceMappingURL=filter-simple-lightmap.js.map
